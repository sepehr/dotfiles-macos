#!/usr/bin/env bash

source .setup/helpers

## brew
say 'Collecting brew taps, packages, casks and mas apps...'
rm -f cellar/brewfile
brew bundle dump --file=cellar/brewfile

## pip
say 'Collecting pip global packages...'
pip freeze > cellar/pipfile

## gem
say 'Collecting gem global packages...'
gem list --no-versions | sed '/^*/ d' > cellar/gemfile

## npm
say 'Collecting npm global packages...'
npm list --global --parseable --depth=0 | sed '1d' | awk '{gsub(/\/.*\//,"",$1); print}' > cellar/npmfile

## apm
say 'Collecting apm packages...'
apm list --installed --bare > cellar/apmfile

## etc
say 'Collecting apptivate hotkeys...'
cp -vf ~/Library/Application\ Support/Apptivate/hotkeys conf/app/apptivate
